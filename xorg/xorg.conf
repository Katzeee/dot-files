# nvidia-xconfig: X configuration file generated by nvidia-xconfig
# nvidia-xconfig:  version 515.43.04

Section "ServerLayout"
    Identifier     "Layout0"
    Option	   "AllowNVIDIAGPUScreens"
    # dual screen set cordinate
    #Screen      0  "Screen0"  3840 1000
    Screen	   "Screen1"  0 0
    #InputDevice    "Keyboard0" "CoreKeyboard"
    #InputDevice    "Mouse0" "CorePointer"
EndSection

Section "Files"
EndSection

Section "InputDevice"
    # generated from default
    Identifier     "Mouse0"
    Driver         "mouse"
    Option         "Protocol" "auto"
    Option         "Device" "/dev/psaux"
    Option         "Emulate3Buttons" "no"
    Option         "ZAxisMapping" "4 5"
EndSection

Section "InputDevice"
    # generated from default
    Identifier     "Keyboard0"
    Driver         "kbd"
EndSection

Section "Monitor"
    Identifier     "laptop"
    Option	   "PreferredMode" "1920x1080"
    Option	   "Position" "3840 1000"
    VendorName     "Unknown"
    ModelName      "Unknown"
    Option         "DPMS"
EndSection

Section "Monitor"
    Identifier     "Philips"
    Option	   "PreferredMode" "3840x2160"
    # dual monitor in one screen cordinate
    Option	   "Position" "0 0"
    VendorName     "Unknown"
    ModelName      "Unknown"
    Option         "DPMS"
EndSection

# nvidia only
Section "Device"
    Identifier     "Device0"
    Driver         "nvidia"
    VendorName     "NVIDIA Corporation"
    BusID          "PCI:1:0:0"
    Option "Accel"
    Option "RenderAccel"
    Option "NoFlip" "no"
    Option "SWCursor" "no"
    Option "HWCursor" "yes"
    Option "DamageEvents"
    Option "ModeDebug" "no"
    Option "AllowSHMPixmaps" "no" 
    Option "SidebandSocketPath" "/tmp"
    Option "UseSysmemPixmapAccel"
    Option "MultisampleCompatibility"
    Option "AllowEmptyInitialConfiguration"
    Option "ForceCompositionPipeline"
    Option "ForceFullCompositionPipeline"
    Option "AllowIndirectGLXProtocol" "no"
    Option "TripleBuffer"
    Option "Stereo" "0"
    Option "BaseMosaic" "no"
    Option "MultiGPU" "no"
    Option "SLI" "no"
    Option "PrimaryGPU" "yes"
    # only nvidia
    Option	   "Monitor-DP-4" "laptop"
    Option	   "Monitor-HDMI-0" "Philips"
    # intel + nvidia
    Option	   "Monitor-HDMI-1-0" "Philips"
EndSection

Section "Device"
    Identifier     "iGPU"
    Driver         "modesetting"
    BusID          "PCI:0:2:0"
    Option	   "Monitor-eDP-1" "laptop"
    Option	   "TearFree" "on"
    Option	   "AccelMethod" "glamor"
    Option	   "DRI" "3"
EndSection

Section "Screen"
    Identifier     "Screen0"
    Device         "iGPU"
    Monitor        "laptop"
    DefaultDepth    24
    SubSection     "Display"
        Depth       24
    EndSubSection
EndSection

Section "Screen"
    Identifier     "Screen1"
    Device         "Device0"
    Monitor        "Philips"
    Option         "metamodes" "DP-4: nvidia-auto-select +3840+1551, HDMI-0: nvidia-auto-select +0+0"
    DefaultDepth    24
    SubSection     "Display"
        Depth       24
#	Virtual     5760 2160
    EndSubSection
EndSection

